<div class="container">
  <h2 class="text-center">Registration</h2>
  <div *ngIf="successMessage" class="alert alert-success text-center">
    Success: User {{user.userName}} has been registered!<br />
    Check your email for the link to verify your account before signing in.
  </div>
  <form *ngIf="!successMessage" #f="ngForm" (ngSubmit)="onSubmit(f)">
    <p class="lead text-center">
      *Password must have at least 8 characters, 1 uppercase letter, 1 lowercase letter, and 1 number
    </p>
    <p class="lead text-center">
      *Username must not contain an @ symbol or more than 1 consecutive space, leading and trailing whitespace will be removed
    </p>
    <div *ngIf="warning" class="alert alert-danger">
      {{warning}}
    </div>
    <div *ngFor="let err of validationErrors" class="alert alert-danger">
      {{err.msg}}
    </div>
    <div class="form-well">
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">Email:</label>
        <div class="col-9">
          <input type="text" [(ngModel)]="user.email" class="form-control" id="email" name="email" autofocus>
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">Username:</label>
        <div class="col-9">
          <input type="text" [(ngModel)]="user.userName" class="form-control" id="userName" name="userName">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">Password:</label>
        <div class="col-9">
          <input type="password" [(ngModel)]="user.password" class="form-control" id="password" name="password">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">Re-enter Password:</label>
        <div class="col-9">
          <input type="password" [(ngModel)]="user.password2" class="form-control" id="password2" name="password2">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">First Name:</label>
        <div class="col-9">
          <input type="text" [(ngModel)]="user.firstName" class="form-control" id="firstName" name="firstName">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="name">Last Name:</label>
        <div class="col-9">
          <input type="text" [(ngModel)]="user.lastName" class="form-control" id="lastName" name="lastName">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-3 col-form-label" for="partyAffiliationSelect">Party Affiliation:</label>
        <div class="col-9">
          <select [(ngModel)]="user.partyAffiliation" class="form-control" id="partyAffiliationSelect" name="partyAffiliationSelect">
            <option value="Unaffiliated">No Affiliation</option>
            <option value="Conservative">Conservative Party</option>
            <option value="Liberal">Liberal Party</option>
            <option value="NDP">New Democratic Party</option>
            <option value="Green">Green Party</option>
            <option value="Bloc Quebecois">Bloc Quebecois</option>
          </select>
          <small id="affiliationHelpBlock" class="form-text text-muted">
            Select an option if you are a member of a political party. This is optional and you can change it later.
            After selecting a party, an email will be sent to an administrator of that party letting them know that they
            can approve you to create events on their behalf. You will not be able to create events until you are approved by an admin.
          </small>
        </div>
      </div>
    </div>
    <div class="text-center">
      <button class="btn btn-dark btn-lg" type="submit">Submit</button>
    </div>
  </form>
</div>
